(this.webpackJsonpmclient=this.webpackJsonpmclient||[]).push([[0],{35:function(e,t,o){e.exports=o(75)},40:function(e,t,o){},41:function(e,t,o){},72:function(e,t){},75:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),c=o(29),l=o.n(c),r=(o(40),o(41),o(30)),i=o(31),s=o(3),u=o(33),d=o(34),m=o(32),g=o.n(m),p=function(e){Object(d.a)(o,e);var t=Object(u.a)(o);function o(e){var n;Object(r.a)(this,o),n=t.call(this,e);var a,c="false";navigator.geolocation&&(c="true",a=navigator.geolocation.watchPosition(n.geoCallback.bind(Object(s.a)(n)),(function(e){alert(e.message)}),{enableHighAccuracy:!0,timeout:2e4,maximumAge:2e3}));var l=g()();n.mapperID=-1;var i=document.cookie;return l.on("connect",(function(){if(console.log("Socket.IO connected!"),-1==i.indexOf("mapperID"))l.emit("mapperID","");else{var e=i.substring(i.indexOf("mapperID")+9);n.mapperID=parseInt(e),console.log("We use current mapperID:"+e)}})),l.on("mapperID",(function(e){document.cookie="mapperID="+e,n.mapperID=parseInt(e),console.log("Set Mapper ID and cookie!")})),l.on("event",n.getEvent.bind(Object(s.a)(n))),l.on("disconnect",(function(){console.log("Socket.IO disconnected!")})),n.state={geoOK:c,lat:0,lon:0,text:"",socket:l,watch:a},n}return Object(i.a)(o,[{key:"getEvent",value:function(e){console.log("Get Event",e)}},{key:"geoCallback",value:function(e){var t="\u7def\u5ea6\uff1a"+e.coords.latitude+"<br>";t+="\u7d4c\u5ea6\uff1a"+e.coords.longitude+"<br>",t+="\u9ad8\u5ea6\uff1a"+e.coords.altitude+"<br>",t+="\u7def\u5ea6\u30fb\u7d4c\u5ea6\u306e\u8aa4\u5dee\uff1a"+e.coords.accuracy+"<br>",t+="\u9ad8\u5ea6\u306e\u8aa4\u5dee\uff1a"+e.coords.altitudeAccuracy+"<br>",t+="\u65b9\u89d2\uff1a"+e.coords.heading+"<br>",t+="\u901f\u5ea6\uff1a"+e.coords.speed+"<br>",console.log(t);var o={lat:e.coords.latitude,lon:e.coords.longitude};this.setState(o),console.log("Update",o),this.state.socket.connected&&this.state.socket.emit("latlon",this.mapperID+","+o.lat+","+o.lon+","+e.coords.heading+","+e.coords.speed+","+e.coords.altitude)}},{key:"checkLoc",value:function(){console.log("Check!"),navigator.geolocation.getCurrentPosition(this.geoCallback.bind(this),(function(e){alert(e.message)}))}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h1",null," lat lon display"),a.a.createElement("ul",null,a.a.createElement("div",null,"geo: ",this.state.geoOK),a.a.createElement("li",null,"lat:",this.state.lat),a.a.createElement("li",null,"lon:",this.state.lon),a.a.createElement("li",null,"text:",this.state.text)),a.a.createElement("button",{onClick:this.checkLoc.bind(this)},"checkLocation"))}}]),o}(a.a.Component);var h=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.a201b8cc.chunk.js.map